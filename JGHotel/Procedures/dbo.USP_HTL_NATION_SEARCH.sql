USE [JGHotel]
GO
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[USP_HTL_NATION_SEARCH]  
  
/*  
USP_HTL_NATION_SEARCH 'ê°€'  
*/  
  
@KEYWORD VARCHAR(100)  
  
AS  
  
SELECT TOP 20 NATION_CODE, NATION_NAME
FROM (  
 SELECT NATION_CODE, NATION_NAME, NATION_ENAME
 FROM HTL_CODE_MAST_CITY  
 WHERE USE_YN='Y'  
 AND (UPPER(NATION_NAME) LIKE '%'+UPPER(@KEYWORD)+'%'  
 OR UPPER(NATION_ENAME) LIKE '%'+UPPER(@KEYWORD)+'%')  
 GROUP BY NATION_CODE, NATION_NAME, NATION_ENAME
) A 
ORDER BY NATION_NAME


GO
